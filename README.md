# TG_FoodOption

Проект TG_FoodOption представляет собой телеграм-бота для небольшой сети доставки питания с использованием Node.js и библиотеки `node-telegram-bot-api`.

## Установка и Настройка

1. **Инициализация проекта с помощью npm:**
   ```bash
   npm init -y
   ```

2. **Инициализируем npm**
   ```bash
   npm init -y
   ```

3. **Устанавливаем библиотеку для работы с telegram API**
   ```bash
   npm i node-telegram-bot-api
   ```

4. **Для хранения ключей скачиваем dotenv**
   ```bash
   npm install dotenv
   ```
5. **Устанавливаем локальную базу данных**
   ```bash
   npm install sqlite3
   ```

6. **Создаём в корне проекта файл .env и добавляем туда свои ключи для ТГ бота**
   ```bash
   TELEGRAM_BOT_TOKEN=*ключ*
   ```

Убедитесь, что файл .env не добавлен в репозиторий (добавьте его в .gitignore), чтобы сохранить конфиденциальность ваших данных.

## Использование
Ваш бот готов к использованию! Теперь вы можете разрабатывать и добавлять функционал для небольшой сети доставки питания в вашем проекте. Помните, что вы можете использовать переменные среды в вашем коде для безопасного доступа к ключам и другим конфиденциальным данным:
   ```javascript
   require('dotenv').config();
   
   const telegramBotToken = process.env.TELEGRAM_BOT_TOKEN;
   const apiKey = process.env.API_KEY;
   
   // Ваш код для работы с Telegram API и другими функциями бота здесь
   ```

# Документация Базы Данных: Пользователи

## Обзор
Таблица `users` предназначена для хранения информации о пользователях, включая личные данные, параметры для тренировок и регистрации.

## Структура таблицы

### id
- **Тип**: INTEGER
- **Описание**: Уникальный идентификатор пользователя в системе. Автоматически инкрементируется.
- **Ограничения**: PRIMARY KEY, AUTOINCREMENT

### user_id
- **Тип**: INTEGER
- **Описание**: Уникальный идентификатор пользователя в `telegram`.
- **Ограничения**: UNIQUE

### username
- **Тип**: TEXT
- **Описание**: Имя пользователя в `telegram`.

### phone
- **Тип**: TEXT
- **Описание**: Контактный телефон пользователя.

### gender
- **Тип**: TEXT
- **Описание**: Пол пользователя.
- **Ограничения**: `DEFAULT 'М', CHECK(gender IN ('М', 'Ж'))`

### height
- **Тип**: REAL
- **Описание**: Рост пользователя.
- **Ограничения**: `DEFAULT 0`

### middle
- **Тип**: REAL
- **Описание**: Талия пользователя.
- **Ограничения**: `DEFAULT 0`

### format
- **Тип**: TEXT
- **Описание**: Формат учета (например, 'общий').
- **Ограничения**: `DEFAULT 'общий', CHECK(format IN ('индив', 'общ'))`

### choose_weight
- **Тип**: TEXT
- **Описание**: Выбор пользователя его весовой категории.

### choose_price
- **Тип**: TEXT
- **Описание**: Выбор ценовой категории (пакета под его питание).

### choose_per_days
- **Тип**: TEXT
- **Описание**: Выбор пользователя относительно количества дней питания.

### weight
- **Тип**: REAL
- **Описание**: Вес пользователя.
- **Ограничения**: `DEFAULT 0`

### fat
- **Тип**: REAL
- **Описание**: Процент жира в организме пользователя.
- **Ограничения**: `DEFAULT 0`

### activity
- **Тип**: REAL
- **Описание**: Уровень активности пользователя.
- **Ограничения**: `DEFAULT 0, CHECK(activity IN (1.2, 1.38, 1.46, 1.55, 1.64, 1.73, 1.9))`

### target
- **Тип**: TEXT
- **Описание**: Цель пользователя ('похудеть' или 'потолстеть').
- **Ограничения**: `DEFAULT 'похудеть', CHECK(target IN ('похудеть', 'потолстеть'))`

### state
- **Тип**: TEXT
- **Описание**: Текущее состояние пользователя в системе (статусы).
- **Ограничения**: `DEFAULT 'start_gender'`

### calories
- **Тип**: REAL
- **Описание**: Количество калорий, рассчитанное для пользователя.
- **Ограничения**: `DEFAULT 0`

### registration_date
- **Тип**: DATETIME
- **Описание**: Дата и время регистрации пользователя.
- **Ограничения**: `DEFAULT CURRENT_TIMESTAMP`

## Использование

### Добавление нового пользователя
При добавлении нового пользователя, `id` и `registration_date` заполняются автоматически. Остальные поля заполняются в соответствии с предоставленными данными.

### Поиск пользователя
Поиск пользователя обычно выполняется по `user_id`.

## Версия и обновления

### Текущая версия
1.0

### Дата последнего обновления
27.01.2024

### История изменений
- 1.0 - Инициализация таблицы с данными пользователей.
